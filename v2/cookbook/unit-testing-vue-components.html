



<!DOCTYPE html>
<html lang="en" class="with-v3-banner">
  <head>
    <title>Test Unitaire des Composants Vue — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - Le Framework JavaScript Évolutif">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="zh" href="https://v2.cn.vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/cookbook/unit-testing-vue-components.html">
    <link rel="alternate" hreflang="es" href="https://es.vuejs.org/v2/cookbook/unit-testing-vue-components.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Test Unitaire des Composants Vue — Vue.js">
    <meta property="og:description" content="Vue.js - Le Framework JavaScript Évolutif">
    <meta property="og:image" content="https://vuejs.org/images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Test Unitaire des Composants Vue — Vue.js">
    <meta name="twitter:description" content="Vue.js - Le Framework JavaScript Évolutif">
    <meta name="twitter:image" content="https://vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.svg">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://maxcdn.bootstrapcdn.com" rel="preconnect" crossorigin>

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto|Roboto Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Dosis:500&text=Vue.js&display=swap" rel="stylesheet">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>

    

    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "cookbook"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'vuejs.org');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  </head>
  <body class="docs" data-v3-url="">

    
      <a id="vs-top" class="vs-hidden" href="#" target="_blank">
  <div class="vs-background-wrapper">
    <div class="vs-logo"></div>
    <div class="vs-core">
      <div class="vs-slogan-wrapper">
        <div id="vs-slogan" class="vs-slogan"></div>
        <div id="vs-subline" class="vs-subline"></div>
      </div>
      <div class="vs-button-wrapper">
        <div id="vs-button" class="vs-button"></div>
      </div>
    </div>
    <div
      id="vs-close"
      class="vs-close">
      <img src="https://vueschool.io/images/close.svg" alt="Close">
    </div>
  </div>
</a>

    

    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div>
  <div id="v3-banner">
    <span class="hidden-sm">Vous naviguez sur la documentation de Vue v2.x et précédentes.</span>
    <a href="https://vuejs.org/">Cliquez ici</a> pour la documentation v3.x.
  </div>

  <header id="header">
    <a id="logo" href="/">
      <img src="/images/logo.svg" alt="Vue logo">
      <span>Vue.js</span>
    </a>
    <ul id="nav">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" aria-label="Search">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Doc</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Documentations</h4></li>
    <li>
      <ul>
        <li><a href="/v2/guide/" class="nav-link">Guide</a></li>
        <li><a href="/v2/api/" class="nav-link">API</a></li>
        <li><a href="/v2/style-guide/" class="nav-link">Conventions</a></li>
        <li><a href="/v2/examples/" class="nav-link">Exemples</a></li>
        <li><a href="/v2/cookbook/" class="nav-link current">Tutoriels</a></li>
      </ul>
    </li>
    <li><h4>Videos</h4></li>
    <li>
      <ul>
        <li>
          <a href="https://www.vuemastery.com/courses/" class="nav-link" target="_blank" rel="sponsored noopener">
            Vue Mastery (EN)
          </a>
        </li>
        <li>
          <a
            href="https://vueschool.io/?friend=vuejs&utm_source=Vuejs.org&utm_medium=Link&utm_content=Navbar%20Dropdown"
            class="nav-link"
            target="_blank" rel="sponsored noopener"
          >
            Vue School (EN)
          </a>
        </li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Écosystème</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Aide</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/c/french" class="nav-link" target="_blank" rel="noopener">Forum</a></li>
      <li><a href="https://discordapp.com/channels/325477692906536972/360669119948783616" class="nav-link" target="_blank" rel="noopener">Chat</a></li>
      <li><a href="https://events.vuejs.org/meetups/" class="nav-link" target="_blank" rel="noopener">Meetups (EN)</a></li>
    </ul></li>
    <li><h4>Outils</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank" rel="noopener">Devtools (EN)</a></li>
        <li><a href="https://cli.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue CLI (EN)</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank" rel="noopener">Vue Loader (EN)</a></li>
      </ul>
    </li>
    <li><h4>Bibliothèques officielles</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vuex</a></li>
      <li><a href="https://v2.ssr.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Infos</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank" rel="noopener">Actualités (EN)</a></li>
      <li><a href="https://github.com/vuejs/vue/projects/6" class="nav-link" target="_blank" rel="noopener">Plans futurs (EN)</a></li>
      <li><a href="https://events.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Évènements (EN)</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank" rel="noopener">Twitter (EN)</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank" rel="noopener">Blog (EN)</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank" rel="noopener">Offres d'emploi (EN)</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank" rel="noopener">Communauté DEV (EN)</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Équipe</a>
</li>
<li class="nav-dropdown-container resources">
  <a href="#" class="nav-link">Resources</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/resources/partners.html" class="nav-link">Partenaires</a></li>
    <li><a href="/resources/themes.html" class="nav-link">Thèmes</a></li>
    <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue (EN)</a></li>
    <li><a href="https://awesomejs.dev/for/vue/" class="nav-link" target="_blank" rel="noopener">Packages pour Vue (EN)</a></li>
  </ul>
</li>

<!-- <li>
  <a href="/partners" class="nav-link ">Partners</a>
</li> -->
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Soutien</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/support-vuejs/#One-time-Donations" class="nav-link">Dons ponctuel</a></li>
    <li><a href="/support-vuejs/#Recurring-Pledges" class="nav-link">Soutiens récurrent</a></li>
    <li><a href="https://vue.threadless.com" target="_blank" rel="noopener" class="nav-link">La boutique</a></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Langues</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://v2.cn.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">한국어</a></li>
    <li><a href="https://vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">English</a></li>
    <li><a href="https://br.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">Français</a></li>
    <li><a href="https://vi.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">Tiếng Việt</a></li>
    <li><a href="https://es.vuejs.org/v2/cookbook/unit-testing-vue-components.html" class="nav-link">Español</a></li>
    <li><a href="https://docs.vuejs.id/v2/cookbook/unit-testing-vue-components.html" class="nav-link">Bahasa Indonesia</a></li>
  </ul>
</li>


    </ul>
  </header>
</div>

    
      <div id="main" class="fix-sidebar">
        
  

<div class="sidebar">
  <div class="sidebar-inner">
    
    <div class="list">
      

<div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>Special Sponsor</span>
    <div>
    <a href="https://appwrite.io" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/appwrite.svg" alt="appwrite">
    </a>
    </div>
  </div>
</div>
<div id="sidebar-sponsors-platinum-left">
  <div class="main-sponsor">
    <span>Sponsors de platine</span>
    <div>
    <a href="https://www.vuemastery.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/vuemastery.png" alt="VueMastery">
    </a>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://passionatepeople.io/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/passionate_people.png" alt="Passionate People">
    </a>
    <a href="https://www.storyblok.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/storyblok.png" alt="Storyblok">
    </a>
    <a href="https://ionicframework.com/vue?utm_source=partner&utm_medium=referral&utm_campaign=vuesponsorship&utm_content=vuedocs" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/ionic.png?v2" alt="Ionic">
    </a>
    <a href="https://nuxtjs.org/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/nuxt.png" alt="Nuxt">
    </a>
    <a href="https://buttercms.com/vuejs-cms/?utm_source=vuejs.org&utm_medium=banner&utm_campaign=sponsorship" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/buttercms.svg" alt="ButterCMS">
    </a>
    <a href="https://www.sanofi.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/sanofi.png" alt="Sanofi">
    </a>
    <a href="https://code-dict.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/codedict.svg" alt="CodeDict">
    </a>
    <a href="https://opencollective.com/2021-frameworks-fund" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/chrome_frameworks_fund.png" alt="Chrome Frameworks Fund">
    </a>
    <a href="https://marker.io/?utm_source=vuejs&utm_medium=sponsor&utm_campaign=dev-community" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/marker_io.svg" alt="Marker.io">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    Devenez un sponsor
  </a>
</div>


      
        <h2>
          
          Tutoriels<sup class="beta">beta</sup>
          
        </h2>
        <ul class="menu-root">
  
    
    
    <li>
      <a href="/v2/cookbook/index.html" class="sidebar-link">Introduction</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/adding-instance-properties.html" class="sidebar-link">Ajouter des propriétés aux instances</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/form-validation.html" class="sidebar-link">Form Validation</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/editable-svg-icons.html" class="sidebar-link">Système d'Icônes SVG Dynamiques</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/serverless-blog.html" class="sidebar-link">Créer un blog alimenté par un CMS</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/unit-testing-vue-components.html" class="sidebar-link current">Test Unitaire des Composants Vue</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/creating-custom-scroll-directives.html" class="sidebar-link">Créer une directive de défilement personnalisée</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/debugging-in-vscode.html" class="sidebar-link">Déboguer dans VS Code</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/using-axios-to-consume-apis.html" class="sidebar-link">Utiliser Axios pour consommer des API</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/avoiding-memory-leaks.html" class="sidebar-link">Éviter les fuites de mémoire</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/client-side-storage.html" class="sidebar-link">Stockage côté client</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/packaging-sfc-for-npm.html" class="sidebar-link">Réaliser un composant Vue pour npm</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/dockerize-vuejs-app.html" class="sidebar-link">Dockeriser une app Vue.js</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/practical-use-of-scoped-slots.html" class="sidebar-link">Practical use of scoped slots with GoogleMaps (EN)</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-right">
  <div class="main-sponsor">
    <span>Sponsors de platine</span>
    <div>
    <a href="https://www.vuemastery.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/vuemastery.png" alt="VueMastery">
    </a>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://passionatepeople.io/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/passionate_people.png" alt="Passionate People">
    </a>
    <a href="https://www.storyblok.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/storyblok.png" alt="Storyblok">
    </a>
    <a href="https://ionicframework.com/vue?utm_source=partner&utm_medium=referral&utm_campaign=vuesponsorship&utm_content=vuedocs" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/ionic.png?v2" alt="Ionic">
    </a>
    <a href="https://nuxtjs.org/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/nuxt.png" alt="Nuxt">
    </a>
    <a href="https://buttercms.com/vuejs-cms/?utm_source=vuejs.org&utm_medium=banner&utm_campaign=sponsorship" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/buttercms.svg" alt="ButterCMS">
    </a>
    <a href="https://www.sanofi.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/sanofi.png" alt="Sanofi">
    </a>
    <a href="https://code-dict.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/codedict.svg" alt="CodeDict">
    </a>
    <a href="https://opencollective.com/2021-frameworks-fund" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/chrome_frameworks_fund.png" alt="Chrome Frameworks Fund">
    </a>
    <a href="https://marker.io/?utm_source=vuejs&utm_medium=sponsor&utm_campaign=dev-community" target="_blank" rel="sponsored noopener" class="logo">
      <img src="https://sponsors.vuejs.org/images/marker_io.svg" alt="Marker.io">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    Devenez un sponsor
  </a>
</div>




<div class="content cookbook with-sidebar ">
  <p class="tip warning v3-warning">
    You’re browsing the documentation for v2.x and earlier.
    For v3.x, <a href="https://vuejs.org/">click here</a>.
  </p>

  
    
      
<div id="ad">
  <script
    async
    type="text/javascript"
    src="//cdn.carbonads.com/carbon.js?serve=CEBDT27Y&placement=vuejsorg"
    id="_carbonads_js">
  </script>
</div>


    
  
  
    <h1>Test Unitaire des Composants Vue</h1>
  
  
    <h2 id="Exemple-de-base"><a href="#Exemple-de-base" class="headerlink" title="Exemple de base"></a>Exemple de base</h2><p>Les tests unitaires sont une étape fondamentale du développement de logiciel. Ces tests permettent d’exécuter chaque unité de code isolée du reste du logiciel. Ils facilitent l’ajout de nouvelles fonctionnalités, la détection et la correction de bugs. Les <a href="../guide/single-file-components.html">composants monofichiers</a> de Vue rendent ce processus de test relativement facile. Cela vous permet d’ajouter des fonctionnalités sans risquer de casser l’existant. De plus, cela aide les autres développeurs à comprendre votre composant.</p>

<p>Cet exemple simple vérifie qu’un texte est affiché :</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">v-if</span>=<span class="hljs-string">"error"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"error"</span>
    &gt;</span>
      &#123;&#123; error &#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Hello'</span>,
  data () &#123;
    <span class="hljs-keyword">return</span> &#123;
      <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>
    &#125;
  &#125;,

  <span class="hljs-attr">computed</span>: &#123;
    error () &#123;
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.username.trim().length &lt; <span class="hljs-number">7</span>
        ? <span class="hljs-string">'Veuillez entrez un nom plus long'</span>
        : <span class="hljs-string">''</span>
    &#125;
  &#125;
&#125;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; shallowMount &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> Hello <span class="hljs-keyword">from</span> <span class="hljs-string">'./Hello.vue'</span>

test(<span class="hljs-string">'Hello'</span>, () =&gt; &#123;
  <span class="hljs-comment">// restitue le composant</span>
  <span class="hljs-keyword">const</span> wrapper = shallowMount(Hello)

  <span class="hljs-comment">// n'accepte pas un `username` de moins de 7 caractères, exclut les espaces</span>
  wrapper.setData(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">" "</span>.repeat(<span class="hljs-number">7</span>) &#125;);

  <span class="hljs-comment">// vérifie que `error` est restituée</span>
  expect(wrapper.find(<span class="hljs-string">".error"</span>).exists()).toBe(<span class="hljs-literal">true</span>);

  <span class="hljs-comment">// met à jour `username` afin qu'il soit suffisamment long</span>
  wrapper.setData(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">'Lachlan'</span> &#125;)

  <span class="hljs-comment">// vérifie que `error` n'est plus restituée</span>
  expect(wrapper.find(<span class="hljs-string">".error"</span>).exists()).toBe(<span class="hljs-literal">false</span>);
&#125;);</code></pre>
<p>Le code ci-dessus montre comment tester l’apparition d’un message d’erreur si le username n’est pas assez long. Il nous donne une idée de ce en quoi consistent les tests unitaires de composants Vue.js : on restitue le composant, on lui fournit des données, puis on vérifie que le rendu correspond aux données.</p>
<h2 id="Pourquoi-tester"><a href="#Pourquoi-tester" class="headerlink" title="Pourquoi tester ?"></a>Pourquoi tester ?</h2><p>Les tests unitaires de composants ont beaucoup d’avantages :</p>
<ul>
<li>Ils fournissent une documentation sur la façon dont le composant doit fonctionner</li>
<li>Ils évitent d’avoir à re-tester manuellement après chaque changement du code</li>
<li>Ils réduisent le risque de régression quand on ajoute des fonctionnalités</li>
<li>Ils améliorent l’architecture du code</li>
<li>Ils facilitent le refactoring</li>
</ul>
<p>Dans les équipes où les développeurs sont nombreux, les tests automatiques permettent de maintenir une codebase volumineuse à moindre effort.</p>
<h4 id="Pour-commencer"><a href="#Pour-commencer" class="headerlink" title="Pour commencer"></a>Pour commencer</h4><p>Le package officiel pour tester les composants Vue est <a href="https://github.com/vuejs/vue-test-utils" target="_blank" rel="noopener">Vue Test Utils</a>. Le template <code>webpack</code> pour <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener">vue-cli</a> contient soit Karma soit Jest. Ces deux test runners sont très bien supportés par Vue.js. On peut trouver quelques <a href="https://vue-test-utils.vuejs.org/guides/" target="_blank" rel="noopener">guides</a> dans la documentation de Vue Test Utils.</p>
<h2 id="Exemple-concret"><a href="#Exemple-concret" class="headerlink" title="Exemple concret"></a>Exemple concret</h2><p>Un bon test unitaire se doit d’être :</p>
<ul>
<li>Rapide à l’exécution</li>
<li>Facile à comprendre</li>
<li>Tester un <em>seul comportement à la fois</em></li>
</ul>
<p>Reprenons l’exemple précédent et ajoutons y le concept de <a href="https://en.wikipedia.org/wiki/Factory_(object-oriented_programming)" target="_blank" rel="noopener">factory function</a> pour rendre nos tests plus compacts et plus clairs. Le composant devra donc :</p>
<ul>
<li>Afficher un message ‘Bienvenue sur le tutoriel Vue.js’.</li>
<li>Demander à l’utilisateur son username</li>
<li>Afficher une erreur si le username fait moins de 7 caractères</li>
</ul>
<p>Voyons d’abord le code du composant :</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"message"</span>&gt;</span>
      &#123;&#123; message &#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    Entrez un username : <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">v-if</span>=<span class="hljs-string">"error"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"error"</span>
    &gt;</span>
      Choisissez un username de plus de 7 caractères.
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Foo'</span>,

  data () &#123;
    <span class="hljs-keyword">return</span> &#123;
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Bienvenue sur le tutoriel Vue.js'</span>,
      <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>
    &#125;
  &#125;,

  <span class="hljs-attr">computed</span>: &#123;
    error () &#123;
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.username.trim().length &lt; <span class="hljs-number">7</span>
    &#125;
  &#125;
&#125;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>Ce que l’on doit tester :</p>
<ul>
<li>le <code>message</code> est-il affiché ?</li>
<li>si <code>error</code> est <code>true</code>, <code>&lt;div class=&quot;error&quot;&gt;</code> devrait être visible</li>
<li>si <code>error</code> est <code>false</code>, <code>&lt;div class=&quot;error&quot;&gt;</code> ne devrait pas être présent</li>
</ul>
<p>Et enfin la version naïve de nos tests utilisant jest :</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; shallowMount &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> Foo <span class="hljs-keyword">from</span> <span class="hljs-string">'./Foo.vue'</span>

describe(<span class="hljs-string">'Foo'</span>, () =&gt; &#123;
  it(<span class="hljs-string">'restitue un message et répond correctement à la saisie de l\'utilisateur'</span>, () =&gt; &#123;
    <span class="hljs-keyword">const</span> wrapper = shallowMount(Foo, &#123;
      data() &#123;
        <span class="hljs-keyword">return</span> &#123;
          <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello World'</span>,
          <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>
        &#125;
      &#125;
    &#125;)

    <span class="hljs-comment">// vérifie que `message` est restitué</span>
    expect(wrapper.find(<span class="hljs-string">'.message'</span>).text()).toEqual(<span class="hljs-string">'Hello World'</span>)

    <span class="hljs-comment">// vérifie que `error` est restituée</span>
    expect(wrapper.find(<span class="hljs-string">'.error'</span>).exists()).toBeTruthy()

    <span class="hljs-comment">// met à jour `username` et vérifie que `error` n'est plus restituée</span>
    wrapper.setData(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">'Lachlan'</span> &#125;)
    expect(wrapper.find(<span class="hljs-string">'.error'</span>).exists()).toBeFalsy()
  &#125;)
&#125;)</code></pre>
<p>Ce premier test n’est pas parfait. On peut y voir plusieurs problèmes :</p>
<ul>
<li>Un seul test vérifie plusieurs comportements</li>
<li>Difficile de distinguer different statuts et ce qui devrait être affiché</li>
</ul>
<p>L’exemple ci-dessous rend ce test un peu meilleur :</p>
<ul>
<li>ne fait qu’un seul test par <code>it</code></li>
<li>a une description claire et concise de chaque test</li>
<li>ne fournit que le minimum de données nécessaires au test</li>
<li>rassemble le code dupliqué (création du <code>wrapper</code> et mise à jour du <code>username</code>) dans une fonction <code>factory</code></li>
</ul>
<p><em>Test amelioré</em> :</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; shallowMount &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> Foo <span class="hljs-keyword">from</span> <span class="hljs-string">'./Foo'</span>

<span class="hljs-keyword">const</span> factory = <span class="hljs-function">(<span class="hljs-params">values = &#123;&#125;</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> shallowMount(Foo, &#123;
    data () &#123;
      <span class="hljs-keyword">return</span> &#123;
        ...values
      &#125;
    &#125;
  &#125;)
&#125;

describe(<span class="hljs-string">"Foo"</span>, () =&gt; &#123;
  it(<span class="hljs-string">"restitue un message de bienvenue"</span>, () =&gt; &#123;
    <span class="hljs-keyword">const</span> wrapper = factory();

    expect(wrapper.find(<span class="hljs-string">".message"</span>).text()).toEqual(
      <span class="hljs-string">"Bienvenue sur le tutoriel Vue.js"</span>
    );
  &#125;);

  it(<span class="hljs-string">"restitue une erreur quand `username` a moins de 7 caractères"</span>, () =&gt; &#123;
    <span class="hljs-keyword">const</span> wrapper = factory(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">""</span> &#125;);

    expect(wrapper.find(<span class="hljs-string">".error"</span>).exists()).toBeTruthy();
  &#125;);

  it(<span class="hljs-string">"restitue une erreur quand `username` contient des espaces"</span>, () =&gt; &#123;
    <span class="hljs-keyword">const</span> wrapper = factory(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">" "</span>.repeat(<span class="hljs-number">7</span>) &#125;);

    expect(wrapper.find(<span class="hljs-string">".error"</span>).exists()).toBeTruthy();
  &#125;);

  it(<span class="hljs-string">"ne restitue pas d'erreur quand `username` a 7 caractères ou plus"</span>, () =&gt; &#123;
    <span class="hljs-keyword">const</span> wrapper = factory(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">"Lachlan"</span> &#125;);

    expect(wrapper.find(<span class="hljs-string">".error"</span>).exists()).toBeFalsy();
  &#125;);
&#125;);</code></pre>
<p>À noter :</p>
<p>Au début du code, on déclare la fonction <code>factory</code> qui prend l’objet <code>values</code> et en construit le <code>data</code> pour renvoyer une nouvelle instance de <code>wrapper</code>. Donc plus besoin de dupliquer <code>const wrapper = shallowMount(Foo)</code> dans chaque test. Un autre avantage important : quand des composants plus complexes vont devoir être testés, le <code>mock</code> ou le <code>stub</code> d’une méthode ou d’une propriété calculée pourront facilement être mutualisés.</p>
<h2 id="Pour-aller-plus-loin"><a href="#Pour-aller-plus-loin" class="headerlink" title="Pour aller plus loin"></a>Pour aller plus loin</h2><p>Le test précédent est assez simple. En pratique, on souhaitera souvent vérifier d’autres comportements comme :</p>
<ul>
<li>appeler une API</li>
<li>faire des <code>commit</code> ou des <code>dispatch</code> de mutations ou d’actions à un store <code>Vuex</code></li>
<li>tester l’interactivité</li>
</ul>
<p>Il existe des exemples plus complets illustrant ce genre de tests dans les <a href="https://vue-test-utils.vuejs.org/guides/" target="_blank" rel="noopener">guides</a> de Vue Test Utils.</p>
<p>Vue Test Utils et le gigantesque ecosystème JavaScript fournissant plein d’outils facilitant une couverture de test proche de 100%. Mais les tests unitaires ne sont qu’une partie de la pyramide de tests. On peut y inclure des tests d’intégration (e2e ou end to end) et du snapshot testing. De tous les types de tests, les tests unitaires sont les plus petits et les plus simples - ils vérifient les plus petites unités de travail, isolant ainsi chaque partie d’un même composant.</p>
<p>Le snapshot testing permet de sauvegarder le rendu HTML d’un composant Vue et de le comparer au rendu généré chaque fois que les tests passent. Si quelque chose change dans le rendu, le développeur est averti et peut décider si le changement est intentionnel (le composant a été mis à jour) ou involontaire (le composant ne se comporte pas comme prévu).</p>
<p>Les tests d’intégration testent l’interaction de plusieurs composants. Il s’agit de tests plus haut niveau. Par exemple tester si un utilisateur peut s’enregistrer, se logger et changer son <code>username</code>. Ils peuvent être plus lent et plus long à exécuter que les tests unitaires ou snapshot testing.</p>
<p>Les tests unitaires sont souvent utilisés lors du développement, soit pour aider le développeur à concevoir l’architecture d’un composant, soit pour l’aider à refactorer un composant existant. Ils sont souvent exécutés après chaque changement du code.</p>
<p>Les tests de plus haut niveau comme les tests d’intégration sont plus lents a l’exécution. Ces tests sont plutôt lancés avant de déployer une mise à jour en production pour s’assurer que chaque partie du logiciel fonctionne correctement.</p>
<p>Plus d’info sur comment tester des composants Vue.js dans le livre de <a href="https://eddyerburgh.me/" target="_blank" rel="noopener">Edd Yerburgh</a> membre de la core team de Vue.js : <a href="https://www.manning.com/books/testing-vuejs-applications" target="_blank" rel="noopener">Testing Vue.js Applications</a> (en anglais).</p>
<h2 id="Quand-eviter-ces-types-de-tests"><a href="#Quand-eviter-ces-types-de-tests" class="headerlink" title="Quand éviter ces types de tests"></a>Quand éviter ces types de tests</h2><p>Les tests unitaires sont une part importante de toute application sérieuse. Au début, quand l’application commence et que la vision complète n’est pas très claire, les tests unitaires peuvent ralentir un peu le développement, mais une fois l’architecture établie et que des utilisateurs réels utilisent l’application, les tests unitaires (et tous types de tests automatiques) sont essentiels à la stabilité et l’évolutivité.</p>

  
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div id="bsa-native"></div>
<script>
_bsa.init('custom', 'CKYD62QM', 'placement:vuejsorg',
  {
    target: '#bsa-native',
    template: '<a class="native-box" href="##statlink##"><div class="native-sponsor">Sponsor</div><div class="native-text"><strong>##company##</strong> — ##description##</div></a>'
  }
);
</script>


    Une erreur dans cette page ou une envie de contribuer à la traduction ?
    <a href="https://github.com/vuejs-fr/vuejs.org/blob/master/src/v2/cookbook/unit-testing-vue-components.md" rel="noopener" target="_blank">
      Éditez cette page sur GitHub !
    </a>
  </div>
</div>

      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
        appId: 'ML0LEBN7FQ',
        apiKey: 'f49cbd92a74532cc55cfbffa5e5a7d01',
        indexName: 'vuejs',
        inputSelector: selector,
        algoliaOptions: { facetFilters: ["version:" + version] },
        autocompleteOptions: { hint: false, appendTo: 'body'}
      })
    })

    // unregister service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function(registrations) {
        for(let registration of registrations) {
          registration.unregister()
        }
      })
    }
    </script>
    <script src="/js/v3-notice.js"></script>
  </body>
</html>
