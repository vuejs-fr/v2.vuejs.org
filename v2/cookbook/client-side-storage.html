


<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Stockage côté client — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - Le Framework JavaScript Évolutif">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/cookbook/client-side-storage.html">
    <link rel="alternate" hreflang="es" href="https://es.vuejs.org/v2/cookbook/client-side-storage.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Stockage côté client — Vue.js">
    <meta property="og:description" content="Vue.js - Le Framework JavaScript Évolutif">
    <meta property="og:image" content="https://vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Stockage côté client — Vue.js">
    <meta name="twitter:description" content="Vue.js - Le Framework JavaScript Évolutif">
    <meta name="twitter:image" content="https://vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://maxcdn.bootstrapcdn.com" rel="preconnect" crossorigin>

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Dosis:500&text=Vue.js&display=swap" rel="stylesheet">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>

    

    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "cookbook"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'vuejs.org');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  </head>
  <body class="docs">
    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <header id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png" alt="vue logo">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" aria-label="Search">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Doc</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Documentations</h4></li>
    <li>
      <ul>
        <li><a href="/v2/guide/" class="nav-link">Guide</a></li>
        <li><a href="/v2/api/" class="nav-link">API</a></li>
        <li><a href="/v2/style-guide/" class="nav-link">Conventions</a></li>
        <li><a href="/v2/examples/" class="nav-link">Exemples</a></li>
        <li><a href="/v2/cookbook/" class="nav-link current">Tutoriels</a></li>
      </ul>
    </li>
    <li><h4>Videos</h4></li>
    <li>
      <ul>
        <li>
          <a href="https://www.vuemastery.com/courses/" class="nav-link" target="_blank" rel="sponsored noopener">
            Vue Mastery (EN)
          </a>
        </li>
        <li>
          <a
            href="https://vueschool.io/?friend=vuejs&utm_source=Vuejs.org&utm_medium=Link&utm_content=Navbar%20Dropdown"
            class="nav-link"
            target="_blank" rel="sponsored noopener"
          >
            Vue School (EN)
          </a>
        </li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Écosystème</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Aide</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/c/french" class="nav-link" target="_blank" rel="noopener">Forum</a></li>
      <li><a href="https://discordapp.com/channels/325477692906536972/360669119948783616" class="nav-link" target="_blank" rel="noopener">Chat</a></li>
      <li><a href="https://events.vuejs.org/meetups/" class="nav-link" target="_blank" rel="noopener">Meetups (EN)</a></li>
    </ul></li>
    <li><h4>Outils</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank" rel="noopener">Devtools (EN)</a></li>
        <li><a href="https://cli.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue CLI (EN)</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank" rel="noopener">Vue Loader (EN)</a></li>
      </ul>
    </li>
    <li><h4>Bibliothèques officielles</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Infos</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank" rel="noopener">Actualités (EN)</a></li>
      <li><a href="https://github.com/vuejs/vue/projects/6" class="nav-link" target="_blank" rel="noopener">Plans futurs (EN)</a></li>
      <li><a href="https://events.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Évènements (EN)</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank" rel="noopener">Twitter (EN)</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank" rel="noopener">Blog (EN)</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank" rel="noopener">Offres d'emploi (EN)</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank" rel="noopener">Communauté DEV (EN)</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Équipe</a>
</li>
<li class="nav-dropdown-container resources">
  <a href="#" class="nav-link">Resources</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/resources/partners.html" class="nav-link">Partenaires</a></li>
    <li><a href="/resources/themes.html" class="nav-link">Thèmes</a></li>
    <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue (EN)</a></li>
    <li><a href="https://awesomejs.dev/for/vue/" class="nav-link" target="_blank" rel="noopener">Packages pour Vue (EN)</a></li>
  </ul>
</li>

<!-- <li>
  <a href="/partners" class="nav-link ">Partners</a>
</li> -->
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Soutien</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/support-vuejs/#One-time-Donations" class="nav-link">Dons ponctuel</a></li>
    <li><a href="/support-vuejs/#Recurring-Pledges" class="nav-link">Soutiens récurrent</a></li>
    <li><a href="https://vue.threadless.com" target="_blank" rel="noopener" class="nav-link">La boutique</a></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Langues</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://cn.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">한국어</a></li>
    <li><a href="https://vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">English</a></li>
    <li><a href="https://br.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">Français</a></li>
    <li><a href="https://vi.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">Tiếng Việt</a></li>
    <li><a href="https://es.vuejs.org/v2/cookbook/client-side-storage.html" class="nav-link">Español</a></li>
    <li><a href="https://docs.vuejs.id/v2/cookbook/client-side-storage.html" class="nav-link">Bahasa Indonesia</a></li>
  </ul>
</li>


  </ul>
</header>

    
      <div id="main" class="fix-sidebar">
        
  

<div class="sidebar">
  <div class="sidebar-inner">
    
    <div class="list">
      <div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>Special Sponsor</span>
    <div>
    <a href="https://autocode.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/autocode.svg" alt="Autocode">
    </a>
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-left">
  <div class="main-sponsor">
    <span>Sponsors de platine</span>
    <div>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    <a href="https://passionatepeople.io/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/passionate_people.png" alt="Passionate People">
    </a>
    <a href="https://www.storyblok.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/storyblok.png" alt="Storyblok">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    Devenez un sponsor
  </a>
</div>



      
        <h2>
          
          Tutoriels<sup class="beta">beta</sup>
          
        </h2>
        <ul class="menu-root">
  
    
    
    <li>
      <a href="/v2/cookbook/index.html" class="sidebar-link">Introduction</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/adding-instance-properties.html" class="sidebar-link">Ajouter des propriétés aux instances</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/form-validation.html" class="sidebar-link">Form Validation</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/editable-svg-icons.html" class="sidebar-link">Système d'Icônes SVG Dynamiques</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/serverless-blog.html" class="sidebar-link">Créer un blog alimenté par un CMS</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/unit-testing-vue-components.html" class="sidebar-link">Test Unitaire des Composants Vue</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/creating-custom-scroll-directives.html" class="sidebar-link">Créer une directive de défilement personnalisée</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/debugging-in-vscode.html" class="sidebar-link">Déboguer dans VS Code</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/using-axios-to-consume-apis.html" class="sidebar-link">Utiliser Axios pour consommer des API</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/avoiding-memory-leaks.html" class="sidebar-link">Éviter les fuites de mémoire</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/client-side-storage.html" class="sidebar-link current">Stockage côté client</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/packaging-sfc-for-npm.html" class="sidebar-link">Packaging Vue Components for npm (EN)</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/dockerize-vuejs-app.html" class="sidebar-link">Dockeriser une app Vue.js</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/practical-use-of-scoped-slots.html" class="sidebar-link">Practical use of scoped slots with GoogleMaps (EN)</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-right">
  <div class="main-sponsor">
    <span>Sponsors de platine</span>
    <div>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    <a href="https://passionatepeople.io/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/passionate_people.png" alt="Passionate People">
    </a>
    <a href="https://www.storyblok.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/storyblok.png" alt="Storyblok">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    Devenez un sponsor
  </a>
</div>




<div class="content cookbook with-sidebar ">
  
    
      
<div id="ad">
  <script
    async
    type="text/javascript"
    src="//cdn.carbonads.com/carbon.js?serve=CKYIK2QU&placement=vuejsorg"
    id="_carbonads_js">
  </script>
</div>


    
  
  
    <h1>Stockage côté client</h1>
  
  
    <h2 id="Exemple-de-base"><a href="#Exemple-de-base" class="headerlink" title="Exemple de base"></a>Exemple de base</h2><p>Le stockage côté client est un excellent moyen de rapidement ajouter un gain de performance à une application. En stockant les données sur le navigateur, on peut récupérer ces données sans passer par le serveur chaque fois que l’utilisateur en a besoin. Bien que très utile hors-ligne, même en ligne les utilisateurs peuvent bénéficier d’une utilisation locale plutôt que d’utiliser un serveur distant. Le stockage côté client peut être fait avec les <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" target="_blank" rel="noopener">cookies</a>, le <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API" target="_blank" rel="noopener">Local Storage</a> (techniquement “Web Storage”), une <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener">IndexedDB</a>, et <a href="https://www.w3.org/TR/webdatabase/" target="_blank" rel="noopener">WebSQL</a> (une méthode périmée qui ne devrait plus être utilisée dans de nouveaux projets).</p>
<p>Dans ce tutoriel on se concentrera sur le Local Storage, le moyen de stockage le plus simple. Le Local Storage utilise un système de clé/valeur pour stocker les données. Il est limité au stockage de simples valeurs mais des données plus complexes peuvent être stockées si on est prêt à encoder et décoder les valeurs en JSON. En général, le Local Storage est approprié pour des petits groupes de données qu’on voudrait garder en mémoire, comme des préférences ou les informations d’un formulaire. De plus grosses données avec une structure plus complexe feraient mieux d’être stockées sur une IndexedDB.</p>
<p>Commençons par un simple exemple basé sur un formulaire :</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
  Mon nom est <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"name"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>Cet exemple a un champ lié à une valeur Vue appelée <code>name</code>. Voici le JavaScript :</p>
<pre><code class="hljs js"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>
  &#125;,
  mounted() &#123;
    <span class="hljs-keyword">if</span> (localStorage.name) &#123;
      <span class="hljs-keyword">this</span>.name = localStorage.name;
    &#125;
  &#125;,
  <span class="hljs-attr">watch</span>: &#123;
    name(newName) &#123;
      localStorage.name = newName;
    &#125;
  &#125;
&#125;);</code></pre>
<p>Concentrons-nous sur les parties <code>mounted</code> et <code>watch</code>. On utilise <code>mounted</code> pour récupérer la valeur depuis le localStorage. Pour garder les données en mémoire, on observe la valeur <code>name</code> et à chaque changement, on l’écrit immédiatement.</p>
<p>Vous pouvez le tester vous-même ici :</p>
<p data-height="265" data-theme-id="0" data-slug-hash="KodaKb" data-default-tab="js,result" data-user="cfjedimaster" data-embed-version="2" data-pen-title="testing localstorage" class="codepen">Voir le Pen <a href="https://codepen.io/cfjedimaster/pen/KodaKb/" target="_blank" rel="noopener">test du localstorage</a> par Raymond Camden (<a href="https://codepen.io/cfjedimaster" target="_blank" rel="noopener">@cfjedimaster</a>) sur <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a> (EN).</p><br><script async src="https://static.codepen.io/assets/embed/ei.js"></script><br><br>Écrivez quelque chose dans le formulaire et rechargez la page. Vous remarquerez que la valeur que vous aviez écrite s’affichera automatiquement. N’oubliez pas que votre navigateur a d’excellents outils de développement pour inspecter le stockage côté client. Voici un exemple sur Firefox :<br><br><img src="/images/devtools-storage.png" alt="Stockage devtools sur Firefox"><br><br>Et ici sur Chrome :<br><br><img src="/images/devtools-storage-chrome.png" alt="Stockage devtools sur Chrome"><br><br>Finalement, un exemple sur Microsoft Edge. Notez que vous pouvez trouver les valeurs stockées sous l’onglet Debugger.<br><br><img src="/images/devtools-storage-edge.png" alt="Stockage devtools sur Edge"><br><br><p class="tip">Ces outils de développement permettent aussi de supprimer les données stockées. Ça peut être très utile pour faire des tests.</p>

<p>Stocker immédiatement une valeur peut ne pas être recommandé. Considérons un exemple un peu plus avancé. Premièrement, le formulaire mis à jour.</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    Mon nom est <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"name"</span>&gt;</span>
    et j'ai <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"age"</span>&gt;</span> ans.
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"persist"</span>&gt;</span>Sauver<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>Maintenant on a deux champs (encore, liés à une instance de Vue) mais maintenant il y a un bouton en plus qui lance une fonction <code>persist</code>. Regardons le JavaScript.</p>
<pre><code class="hljs js"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">0</span>
  &#125;,
  mounted() &#123;
    <span class="hljs-keyword">if</span> (localStorage.name) &#123;
      <span class="hljs-keyword">this</span>.name = localStorage.name;
    &#125;
    <span class="hljs-keyword">if</span> (localStorage.age) &#123;
      <span class="hljs-keyword">this</span>.age = localStorage.age;
    &#125;
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    persist() &#123;
      localStorage.name = <span class="hljs-keyword">this</span>.name;
      localStorage.age = <span class="hljs-keyword">this</span>.age;
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'maintenant prétendre que j\'ai fait plus de choses...'</span>);
    &#125;
  &#125;
&#125;)</code></pre>
<p>Comme avant, <code>mounted</code> est utilisé pour charger les données, si elles existent. Cette fois, les données sont sauvées seulement si le bouton est cliqué. On pourrait aussi faire des validations ou transformations ici avant de stocker les données. On pourrait aussi stocker une date représentant le moment ou les données ont été sauvées. Avec ces métadonnées, la fonction <code>mounted</code> pourrait vérifier si il faut encore stocker les valeurs. Vous pouvez essayer cette version ci-dessous.</p>
<p></p><p data-height="265" data-theme-id="0" data-slug-hash="rdOjLN" data-default-tab="js,result" data-user="cfjedimaster" data-embed-version="2" data-pen-title="testing localstorage 2" class="codepen">Voir le Pen <a href="https://codepen.io/cfjedimaster/pen/rdOjLN/" target="_blank" rel="noopener">test du localstorage 2</a> par Raymond Camden (<a href="https://codepen.io/cfjedimaster" target="_blank" rel="noopener">@cfjedimaster</a>) sur <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a> (EN).</p><p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<h2 id="Travailler-avec-des-valeurs-complexes"><a href="#Travailler-avec-des-valeurs-complexes" class="headerlink" title="Travailler avec des valeurs complexes"></a>Travailler avec des valeurs complexes</h2><p>Comme mentionné plus haut, le Local Storage marche seulement avec de simples valeurs. Pour stocker des valeurs plus complexes, comme un objet ou une liste, on doit sérialiser et désérialiser les valeurs avec JSON. Voici un exemple plus avancé qui sauvegarde une liste de chats (le meilleur type de liste possible).</p>
<pre><code class="hljs html">&lt;div id="app"&gt;
  &lt;h2&gt;Chats&lt;/h2&gt;
  &lt;div v-for="(cat, n) in cats"&gt;
    &lt;p&gt;
      &lt;span class="cat"&gt;&#123;&#123; cat &#125;&#125;&lt;/span&gt;
      &lt;button @click="removeCat(n)"&gt;Enlever&lt;/button&gt;
    &lt;/p&gt;
  &lt;/div&gt;

  &lt;p&gt;
    &lt;input v-model="newCat"&gt;
    &lt;button @click="addCat"Ajouter un chat&lt;/button&gt;
  &lt;/p&gt;
&lt;/div&gt;</code></pre>
<p>Cette « app » contient une simple liste (avec un bouton pour enlever un chat) et un petit formulaire pour ajouter un nouveau chat. Maintenant regardons le JavaScript.</p>
<pre><code class="hljs js"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: &#123;
    <span class="hljs-attr">cats</span>: [],
    <span class="hljs-attr">newCat</span>: <span class="hljs-literal">null</span>
  &#125;,
  mounted() &#123;
    <span class="hljs-keyword">if</span> (localStorage.getItem(<span class="hljs-string">'cats'</span>)) &#123;
      <span class="hljs-keyword">try</span> &#123;
        <span class="hljs-keyword">this</span>.cats = <span class="hljs-built_in">JSON</span>.parse(localStorage.getItem(<span class="hljs-string">'cats'</span>));
      &#125; <span class="hljs-keyword">catch</span>(e) &#123;
        localStorage.removeItem(<span class="hljs-string">'cats'</span>);
      &#125;
    &#125;
  &#125;,
  <span class="hljs-attr">methods</span>: &#123;
    addCat() &#123;
      <span class="hljs-comment">// s'assurer que l'utilisateur a entré quelque chose</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.newCat) &#123;
        <span class="hljs-keyword">return</span>;
      &#125;

      <span class="hljs-keyword">this</span>.cats.push(<span class="hljs-keyword">this</span>.newCat);
      <span class="hljs-keyword">this</span>.newCat = <span class="hljs-string">''</span>;
      <span class="hljs-keyword">this</span>.saveCats();
    &#125;,
    removeCat(x) &#123;
      <span class="hljs-keyword">this</span>.cats.splice(x, <span class="hljs-number">1</span>);
      <span class="hljs-keyword">this</span>.saveCats();
    &#125;,
    saveCats() &#123;
      <span class="hljs-keyword">const</span> parsed = <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>.cats);
      localStorage.setItem(<span class="hljs-string">'cats'</span>, parsed);
    &#125;
  &#125;
&#125;)</code></pre>
<p>Dans cette application, on a utilisé l’API Local Storage à la place d’un accès “direct”. Les deux marchent mais utiliser l’API est généralement la méthode préférée. <code>mounted</code> doit récupérer et parser la valeur en JSON. S’il y a un problème, on peut assumer que les données sont corrompues et les supprimer. (N’oubliez pas, quand votre application utilise le stockage côté client, l’utilisateur y a accès et peut les modifier à volonté.)</p>
<p>Nous avons trois méthodes pour s’occuper de nos chats. <code>addCat</code> et <code>removeCat</code> s’occupent de mettre à jour les données de Vue stockées dans <code>this.cats</code>. Ensuite elles appellent <code>saveCats</code> qui s’occupe de sérialiser et sauver les données. Vous pouvez vous amuser avec la version ci-dessous :</p>
<p></p><p data-height="265" data-theme-id="0" data-slug-hash="qoYbyW" data-default-tab="js,result" data-user="cfjedimaster" data-embed-version="2" data-pen-title="localstorage, complex" class="codepen">Voir le Pen <a href="https://codepen.io/cfjedimaster/pen/qoYbyW/" target="_blank" rel="noopener">localstorage plus complexe</a> par Raymond Camden (<a href="https://codepen.io/cfjedimaster" target="_blank" rel="noopener">@cfjedimaster</a>) sur <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a> (EN).</p><p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<h2 id="Modeles-alternatifs"><a href="#Modeles-alternatifs" class="headerlink" title="Modèles alternatifs"></a>Modèles alternatifs</h2><p>Bien que l’API Local Storage est relativement simple, il manque quelques fonctions basiques qui seraient utiles dans beaucoup d’applications. Les plugins suivants utilisent le Local Storage et facilitent son utilisation, tout en ajoutant quelques fonctionnalités comme les valeurs par défaut.</p>
<ul>
<li><a href="https://github.com/pinguinjkeke/vue-local-storage" target="_blank" rel="noopener">vue-local-storage</a></li>
<li><a href="https://github.com/ropbla9/vue-reactive-storage" target="_blank" rel="noopener">vue-reactive-storage</a></li>
<li><a href="https://github.com/yarkovaleksei/vue2-storage" target="_blank" rel="noopener">vue2-storage</a></li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Bien que le navigateur ne remplacera jamais un système de stockage de données sur serveur, avoir plusieurs possibilités de sauver ces données localement peut être un énorme boost de performance pour votre application. Travailler avec dans Vue.js le rend encore plus puissant.</p>

  
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div id="bsa-native"></div>
<script>
_bsa.init('custom', 'CKYD62QM', 'placement:vuejsorg',
  {
    target: '#bsa-native',
    template: '<a class="native-box" href="##statlink##"><div class="native-sponsor">Sponsor</div><div class="native-text"><strong>##company##</strong> — ##description##</div></a>'
  }
);
</script>


    Une erreur dans cette page ou une envie de contribuer à la traduction ?
    <a href="https://github.com/vuejs-fr/vuejs.org/blob/master/src/v2/cookbook/client-side-storage.md" rel="noopener" target="_blank">
      Éditez cette page sur GitHub !
    </a>
  </div>
</div>

      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] },
      autocompleteOptions: { hint: false, appendTo: 'body'}
      })
    })
    </script>
  </body>
</html>
